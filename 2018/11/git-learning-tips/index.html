<!DOCTYPE html>
<html lang="zh-tw">
  <head>
    
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="generator" content="Hugo 0.62.2 with theme Tranquilpeak 0.4.7-BETA">
<meta name="author" content="Cheng-Shiang Li">
<meta name="keywords" content="">
<meta name="description" content="Git Learning Tips">


<meta property="og:description" content="Git Learning Tips">
<meta property="og:type" content="article">
<meta property="og:title" content="Git 學習要點">
<meta name="twitter:title" content="Git 學習要點">
<meta property="og:url" content="/2018/11/git-learning-tips/">
<meta property="twitter:url" content="/2018/11/git-learning-tips/">
<meta property="og:site_name" content="Xeno Universe - The Dark Forest">
<meta property="og:description" content="Git Learning Tips">
<meta name="twitter:description" content="Git Learning Tips">
<meta property="og:locale" content="en-us">

  
    <meta property="article:published_time" content="2018-11-25T00:20:00">
  
  
    <meta property="article:modified_time" content="2018-11-25T00:20:00">
  
  
  
    
      <meta property="article:section" content="Git">
    
  
  
    
      <meta property="article:tag" content="Git">
    
  


<meta name="twitter:card" content="summary">











  <meta property="og:image" content="/images/about/me.jpg">
  <meta property="twitter:image" content="/images/about/me.jpg">


    <title>Git 學習要點</title>

    <link rel="icon" href="/favicon.png">
    

    

    <link rel="canonical" href="/2018/11/git-learning-tips/">

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/jquery.fancybox.min.css" integrity="sha256-vuXZ9LGmmwtjqFX1F+EKin1ThZMub58gKULUyf0qECk=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/helpers/jquery.fancybox-thumbs.min.css" integrity="sha256-SEa4XYAHihTcEP1f5gARTB2K26Uk8PsndQYHQC1f4jU=" crossorigin="anonymous" />
    
    
    <link rel="stylesheet" href="/css/style-twzjdbqhmnnacqs0pwwdzcdbt8yhv8giawvjqjmyfoqnvazl0dalmnhdkvp7.min.css" />
    
    
      
        <link rel="stylesheet"  href="/css/style-tranquilpeak.css">
      
    

    
      
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-104710641-2', 'auto');
	
	ga('send', 'pageview');
}
</script>

    
    
  </head>

  <body>
    <div id="blog">
      <header id="header" data-behavior="5">
  <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
  <div class="header-title">
    <a class="header-title-link" href="/">Xeno Universe - The Dark Forest</a>
  </div>
  
</header>

      <nav id="sidebar" data-behavior="5">
  <div class="sidebar-container">
    
      <div class="sidebar-profile">
        <a href="/#about">
          <img class="sidebar-profile-picture" src="/images/about/me.jpg" alt="Author&#39;s picture" />
        </a>
        <h4 class="sidebar-profile-name">Cheng-Shiang Li</h4>
        
          <h5 class="sidebar-profile-bio">Senior software developer. Mastering Android/iOS application development and machine learning algorithm.</h5>
        
      </div>
    
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="/">
    
      <i class="sidebar-button-icon fa fa-lg fa-home"></i>
      
      <span class="sidebar-button-desc">Home</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="/categories">
    
      <i class="sidebar-button-icon fa fa-lg fa-bookmark"></i>
      
      <span class="sidebar-button-desc">Categories</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="/tags">
    
      <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
      
      <span class="sidebar-button-desc">Tags</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="/archives">
    
      <i class="sidebar-button-icon fa fa-lg fa-archive"></i>
      
      <span class="sidebar-button-desc">Archives</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="/about/">
    
      
      
      <span class="sidebar-button-desc">About Me</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://github.com/yeshuanova">
    
      <i class="sidebar-button-icon fa fa-lg fa-github"></i>
      
      <span class="sidebar-button-desc">GitHub</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.linkedin.com/in/cheng-shiang-li">
    
      <i class="sidebar-button-icon fa fa-lg fa-linkedin"></i>
      
      <span class="sidebar-button-desc">Linkedin</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="mailto:yeshuanova@gmail.com" target="_blank" rel="noopener">
    
      <i class="sidebar-button-icon fa fa-lg  fa-envelope-o"></i>
      
      <span class="sidebar-button-desc">Email</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      

    </ul>
  </div>
</nav>

      

      <div id="main" data-behavior="5"
        class="
               hasCoverMetaIn
               ">
        <article class="post" itemscope itemType="http://schema.org/BlogPosting">
          
          
            <div class="post-header main-content-wrap text-left">
  
    <h1 class="post-title" itemprop="headline">
      Git 學習要點
    </h1>
  
  
  <div class="postShorten-meta post-meta">
    
      <time itemprop="datePublished" datetime="2018-11-25T00:20:00&#43;08:00">
        
  November 25, 2018

      </time>
    
    
  
  
    <span>in</span>
    
      <a class="category-link" href="/categories/git">Git</a>
    
  

  </div>

</div>
          
          <div class="post-content markdown" itemprop="articleBody">
            <div class="main-content-wrap">
              <p>自從 Git 從 2005 年出現後，到現在幾乎所有軟體開發者都離不開他，加上 GitHub 等服務讓 Git 甚至能當成網頁空間或線上文件共筆平台等。但 Git 初學時可能有許多人不知道如何入門，本篇將簡單整理個人的 Git 學習方式，使用建議與需要注意的概念等，並不會詳細說明 Git 指令等內容。</p>
<h2 id="什麼是-git">什麼是 Git</h2>
<p>總括來說，<a href="https://en.wikipedia.org/wiki/Git">Git</a> 是一套版本控制軟體(Version Control System, VCS)。在開發軟體時常常會有不同的需求以及問題，開發者會希望能控制軟體版本並且能回復到之前的狀態，讓軟體開發更順利。古人常說<strong>工欲善其事，必先利其器</strong>，而 Git 就是能讓我們工作或處理其他事項與分享知識等更方便與有效的<strong>器</strong>。</p>
<p>過去也有許多版本控制軟體如 <a href="https://en.wikipedia.org/wiki/Concurrent_Versions_System">CSV</a> 以及 <a href="https://en.wikipedia.org/wiki/Apache_Subversion">Subversion</a> 等，但在 Git 問世並隨著 <a href="https://github.com/">GitHub</a> 等服務在全世界引起風潮，現在的 Git 已經不只侷限在軟體開發，甚至能拿來建立靜態網頁(GitHub Page)以及共筆寫作等，應用層面已遠遠超過原先預設的範圍了。</p>
<h2 id="git-簡史">Git 簡史</h2>
<p>Git 的原始開發者就是 Linux Kernel 的開發者 <a href="https://en.wikipedia.org/wiki/Linus_Torvalds">Linus Torvalds</a>，只要是資訊界的人應該都聽過他的大名。我們每天使用的網路系統基底有許多都是使用 Linux 系統服務，也因為有他才能使現在資訊生活越來越便捷。</p>
<p>原先 Linux kernel 並不是使用 Git 來開發，而是使用商用軟體 <a href="https://en.wikipedia.org/wiki/BitKeeper">BitKeeper</a> 來進行版本控制。但在 2005 年時因一些問題使得 Bitkeeper 公司收回了軟體使用權。而在找不到適合的替代軟體的情況下 Linus 決定<a href="https://www.ithome.com.tw/news/95088">自己寫一個版本控制系統</a>，在花了 10 天後 Linus 帶著初版 Git 來到世界上。</p>
<p>雖然一開始 Git 只為了 Linux Kernel 的開發而撰寫，但 Git 強大的功能讓其他開發者也逐漸在自己的系統上使用它，而 GitHub 等服務的出現，讓現在 Git 幾乎成為了版本控制的代名詞。除了 Google 將自己的許多開源專案的平台都放在 GitHub 上之外，Microsoft 也將內部的版本控制系統<a href="https://www.ithome.com.tw/news/114452">轉換到 Git</a> 中了。</p>
<blockquote>
<p>同一時間也有另一名工程師 Matt Mackall，在不知道 Linus 開發 Git 的情況下另外開發了 <a href="https://en.wikipedia.org/wiki/Mercurial">Mercurial</a> 這套版本控制系統想作為 Linux Kernel 的開發使用。但後來 Linux Kernel 開發社群採用了 Git。</p>
</blockquote>
<h2 id="個人如何應用-git">個人如何應用 Git</h2>
<p>個人最先使用的版本控制軟體是 Subversion，但當時也只把它當做備份軟體用。而當開始轉換到 Git 並去了解內部運作方式後，才真的了解到 Git 的設計顛覆了許多對版本控制系統的理解，並開始應用在各個方面中，如</p>
<ul>
<li>程式碼管控</li>
</ul>
<p>Git 最主要的功能了，除了在工作上使用外，也會用 GitHub 或 GitLab 分享自己的程式內容與成果。</p>
<ul>
<li>日常文件撰寫與紀錄</li>
</ul>
<p>在紀錄事情方面，剛開始時是使用 Google Doc 來紀錄，但後來考慮到需透過瀏覽器才能編輯，也無法自由轉換到其他平台上，現在主要透過 Visual Studio Code 或 Vim 等編輯軟體，並以 <a href="https://en.wikipedia.org/wiki/Markdown">Markdown</a> 格式來紀錄每天所得項目，並利用 GitLab 來備份內容。</p>
<ul>
<li>建立個人專屬網站</li>
</ul>
<p>GitHub 或 GitLab 都有提供免費靜態網頁空間的功能，能當成個人的網頁空間來使用。現在所看到的 Blog 就是透過 <a href="https://gohugo.io/">Hugo</a> 這套靜態網頁產生器（Static Site Generator) 來產生網頁 HTML 檔案後，使用 Git 將其上傳到 GitHub 並透過 <a href="https://pages.github.com/">GitHub Pages</a> 的功能來顯示網頁內容。</p>
<p>除了上面的應用外，也有人透過 Git 來共筆使用 <a href="https://www.jstage.jst.go.jp/article/isciesci/61/10/61_394/_pdf">Latex 撰寫論文</a> 等。</p>
<h2 id="如何學習-git">如何學習 Git</h2>
<p>由於網路上已經有著許多豐富的 Git 學習資源，所以個人不會再詳細描述 Git 功能與操作方式，而會提供一些初學者可能搞混得的以及 Git 使用上的建議。初學者可參考下面列出的網站學習 Git 的使用</p>
<ul>
<li><a href="https://git-scm.com/book/zh-tw/v2">Pro Git</a>: Git 官方網站的使用手冊。</li>
<li><a href="https://learngitbranching.js.org/">Learning Git Branch</a>: 以互動方式一步步引導新手操作 Git 的各種指令並顯示 commit 分枝圖。</li>
<li><a href="https://backlog.com/git-tutorial/tw/">連猴子都能懂的Git入門指南</a>: 以圖形化方式顯示並教導 Git 的概念與使用法。</li>
</ul>
<p>其中個人最推薦的是 <strong>Pro Git</strong> 一書，該書現在出到第二版(繁體中文部分翻譯)，其中對於了解 Git 的大小事情，包括 Git 的歷史，檔案儲存方式，Repository 結構，Garbage Collection，Git Hooks 等項目都有詳細的介紹。</p>
<h2 id="git-tips">Git Tips</h2>
<p>若已對 Git 的概念與操作有一定的認識後，下面是一些個人認為有用的概念要點與進階內容。</p>
<h3 id="熟悉-command-line避免依賴-ide">熟悉 Command Line，避免依賴 IDE</h3>
<p>許多新手在初學 Git 時因對該流程與概念不熟悉，或是不熟悉 command line 操作等因素，常常會使用如 <a href="https://www.sourcetreeapp.com/">Sourcetree</a> 或 <a href="https://git-fork.com/">Fork</a> 等 GUI 軟體來進行 Git 的操作。個人認為雖然一開始使用這些套裝軟體無傷大雅，但長久來看導致許多問題存在。</p>
<p>使用 IDE 軟體常常會不了解 Git 真正的執行步驟，且沒支援的功能就無法使用，因此要真正理解 Git 所提供的各項功能就必須熟悉 command line。此外如果是使用 Terminal 在遠端 Server 中工作時，就必須使用 command line 來進行 Git 操作，無法透過 IDE 來處理，因此非常建議一定要習慣使用 command 進行各種的操作。</p>
<h3 id="sha-1-hash">SHA-1 Hash</h3>
<p>我們常常在 Git 中看到一常串的文字</p>
<div class="highlight"><pre style="color:#ccc;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">a906cb2a4a904a152e80877d4088654daad0c859
</code></pre></div><p>初學者可能會很困惑這些奇怪的文字是什麼，實際上該文字是 <a href="https://en.wikipedia.org/wiki/SHA-1">SHA-1</a> hash function 所產出結果的的 16 進位表示字元。而 Git 對所有物件的索引值都是採用<strong>檔案內容</strong>的 SHA 1 編碼結果，如一個 <code>README.md</code> 的檔案經過 SHA-1 計算後，得到的索引可能是</p>
<div class="highlight"><pre style="color:#ccc;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">a906cb2a4a904a152e80877d4088654daad0c859
</code></pre></div><p>而當對 README.md 的內容做修改後，其 SHA-1 結果可能變化成為</p>
<div class="highlight"><pre style="color:#ccc;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">8f94139338f9404f26296befa88755fc2598c289
</code></pre></div><p>因此一個檔案的 SHA-1 可以代表該檔案是否發生變化。Git 所有內容包含 <strong>commit object</strong> 以及資料夾結構物件 <strong>tree object</strong> 都是使用 SHA-1 作為索引值。要計算檔案對應的 SHA-1 可用 <code>git hash-object &lt;file&gt;</code> 指令</p>
<blockquote>
<p>因 SHA-1 產出的結果為 160 bits 資訊，其 16 進位表示法結果都為 40 chars。此外 SHA-1 可能會發生兩個不同檔案產生同樣的結果，也就是發生碰撞(collision)，但這個機率其實非常低，低到 Git 使用到現在還沒發生碰撞的問題。</p>
</blockquote>
<h3 id="了解-git-資料夾結構">了解 <code>.git</code> 資料夾結構</h3>
<p>當執行 <code>git init</code> 初始化指令後，會在該資料夾下面新增一個 <code>.git</code> 的資料夾，該資料夾就是 Git Repository 的本體所在。其中包含 blob objects, branch, remote, config 設定檔等。<code>.git</code> 儲存了 Git 所有資訊。在 Local 端對 Git 的所有操作，也都是反映在這個資料夾中。</p>
<p><code>.git</code> 內包含幾個部分</p>
<ul>
<li>HEAD - 目前所在的 branch。</li>
<li>config - 該 Git 資料夾的區域設定檔。</li>
<li>index - 資料暫存區</li>
<li>objects - Git 所有資料的 blob objects 儲存處，主要包含三種類型
<ul>
<li>commit objects - 每筆 commit 的資訊，包含 author, parent commit object, commit message 以及所指向的 tree object 資訊。</li>
<li>tree objects - 記錄資料夾的檔案結構，包含檔案的路徑，名稱，模式以及對應的 blob objects</li>
<li>blob objects - 記錄實際檔案物件的二進位內容。</li>
</ul>
</li>
</ul>
<p>當我們每次進行 branch 切換時，Git 會去 objects 資料夾中找出該 branch 對應的 commit object，從 commit object 中取得對應的 tree object 後，再由 tree object 所記錄的檔案結構將資料夾回復到該 branch 所對應的狀態。</p>


 
  
  
  
  
    
  
    
      
    
  

<div class="figure center" >
  
    <a class="fancybox" href="/images/2018/git-learning/git-data-model.png" title="Git objects model (From: Pro Gti)" data-fancybox-group="">
  
    <img class="fig-img" src="/images/2018/git-learning/git-data-model.png" style="width: 640px;" alt="Git objects model (From: Pro Gti)">
  
    </a>
  
   
    <span class="caption">Git objects model (From: Pro Gti)</span>
  
</div>

<p>可以在進行 Git 操作看看 <code>.git</code> 內做了哪些什修改。</p>
<blockquote>
<p>更詳細的內容可參考 Pro Git 中 <a href="https://git-scm.com/book/zh-tw/v2/Git-Internals-Plumbing-and-Porcelain">Git Internal</a> 的章節。</p>
</blockquote>
<h3 id="branch-只是輔助commit-才是本體">Branch 只是輔助，Commit 才是本體</h3>
<p>Git 的歷史是由 commit 與其內部紀錄的 parent commit 所連接起來，而 branch 只是參照到的特定 commit 的紀錄。當在一個 branch 上執行 commit 時，是新增一個 commit object 並將現在的 branch 指向新建立的 commit。</p>
<p>我們可以在 <code>.git</code> 資料夾中看到紀錄對應的檔案。如 maseter branch 對應的 commit 就紀錄在 <code>.git/refs/head/master</code> 的檔案中。查看當中內容可以看到</p>
<div class="highlight"><pre style="color:#ccc;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">cat .git/refs/head/master
ff5f583564a6108407d9a2304af839e877d80f3c
</code></pre></div><p>這樣的內容，代表 master branch 對應到 <code>ff5f583564a6108407d9a2304af839e877d80f3c</code> 的 commit。</p>
<p>在 Git 中，對 Git Branch 的操作都可以用 commit 的 SHA-1 編號代替。假如我們想加入另一個 commit <code>a7ccca6fd65bc347a065d83a8f32fd347bab544f</code> 的修改內容，可以執行</p>
<div class="highlight"><pre style="color:#ccc;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh"><span style="color:#000080"># a7ccca6fd65bc347a065d83a8f32fd347bab544f 可用前面的編號取代完整的 SHA-1 編碼</span>
git cherry-pick a7ccca
</code></pre></div><p>來進行 cherry-pick 操作</p>
<h3 id="以-commit-歷史與內容來思考要進行的操作">以 commit 歷史與內容來思考要進行的操作</h3>
<p>當在一個 branch 上開發軟體時，假如有其他 branch 有我們想要套用的修改，或是想回復檔案狀態等操作。在過去可能會想要將檔案直接複製文件中。而在 Git 上可使用 <code>reset</code>, <code>revert</code>, <code>checkout</code>, <code>rebase</code>, <code>cherry-pick</code> 等指令改變 commit tree 或直接將變動套用到現在的程式碼中，這會比用複製檔案來的省事且不容易出錯。如下面的範例</p>
<div class="highlight"><pre style="color:#ccc;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh"><span style="color:#000080"># 切換到特定 commit</span>
git checkout &lt;commit&gt;

<span style="color:#000080"># 取出由特定 commit 的 file 內容</span>
git checkout &lt;commit&gt; &lt;file&gt;

<span style="color:#000080"># 將現在的 branch 切換到特定 commit</span>
git reset &lt;commit&gt;

<span style="color:#000080"># 將 stage 的檔案回復到 unstage 狀態</span>
git reset HEAD &lt;staged file&gt;
</code></pre></div><p>Git 中有許多類似的指令，能夠讓使用者非常方便的做內容變動與修補，因此只要能更理解 Git 的運作架構並且善用對 commit tree 的操作，就更能發揮 Git 強大的功能。</p>
<h3 id="使用-gitlab-或-github-等程式碼代管服務">使用 GitLab 或 GitHub 等程式碼代管服務</h3>
<p>除了 Local 端的操作外，Git 的價值之一就在多人協作非常便利，因此誕生了如 GitHub 或 GitLab 的原始碼代管平台。開發者可以將自己的 Git Repository 推送(push)遠端平台進行備份與管理。</p>
<p>這些平台除了提供程式碼代管外，也提供如 Issue, Milestone, Pull Request(Merge Request) 等多人協作所需功能，甚至能透過 Webhook 等呼叫 CI/CD 服務進行自動化測試部署，甚至透過所提供的 Page 功能當作是靜態網頁空間使用。</p>
<h3 id="選定適合的開發模式">選定適合的開發模式</h3>
<p>Git 在使用上非常自由，不論是輕量的 branch 或是快速的 merge 甚至對 commit 歷史都能進行操作，但也因為如此團隊開發時需要一套統一的開發流程與規範，才能在開發時才不會造成混亂。</p>
<p>Vincent Driessen 在 2010 在一篇名為 <a href="https://nvie.com/posts/a-successful-git-branching-model/">A successful Git branching model</a> 提出了一個稱為 <strong>Git Flow</strong> 的開發方式，透過將 branch 分為 <code>master</code> 與 <code>develop</code> 等主要分支，以及 <code>feature</code>, <code>release</code> 與 <code>hotfix</code> 等支援分支來管理開發版本，並使用一定的開發流程如 feature 為由 develop 上建立並加入功能的 branch，而 release 為由 develop 分出來進行 debug 後再併入 master 發佈該版本等流程來使開發流程更加有組織性。</p>
<p>而除了 Git Flow 外，也有其他如 <a href="https://guides.github.com/introduction/flow/">GitHub Flow</a>，<a href="https://docs.gitlab.com/ee/workflow/gitlab_flow.html">GitLab Flow</a> 等開發流程，團隊可根據需求與習慣選擇適合的開發模式。</p>
<h3 id="正確的-commit-message-格式">正確的 commit message 格式</h3>
<p>Git 的 commit message 是留下修改訊息的重要內容，當在與團隊協同開發，清晰易懂的 commit message 能讓其他人快速了解到該 commit 做過哪些改變，特別是為什麼(Why)要做以及做了什麼(What)，而不是如何(How)做的訊息(從 Code 中就能了解)。</p>
<p>而如何寫出適合的 commit message 可參考 <a href="https://chris.beams.io/posts/git-commit/">How to Write a Git Commit Message</a> 這篇文章，中文翻譯可在 <a href="https://blog.louie.lu/2017/03/21/%E5%A6%82%E4%BD%95%E5%AF%AB%E4%B8%80%E5%80%8B-git-commit-message/">如何寫一個 Git Commit Message</a> 這篇文章中找到。</p>
<p>當然這些並沒有一定必須如此撰寫的規定，一切都看團隊如何這定一個共通的標準。</p>
<h3 id="減少-clone-repository-所佔用的空間與時間">減少 clone repository 所佔用的空間與時間</h3>
<p>在執行 <code>git clone</code> 指令時，會將目標的 repository 全部抓下來，但如果該 repository 太大，
許多過去的資料可以不用抓下來節省空間與傳輸時間，這時可以透過 <code>--depth &lt;depth&gt;</code> 的參數來建立 shallow clone，如下面的指令</p>
<div class="highlight"><pre style="color:#ccc;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">git clone --depth <span style="color:#cd00cd">1</span> GIT_REPO
</code></pre></div><p>執行後 Git 只會抓取 master branch 中最新一筆 commit 資料，可大幅節省儲存空間與 clone 的時間。</p>
<h3 id="garbage-collection">Garbage Collection</h3>
<p>在許多 Git 教學中都提過，當使用 Git 將檔案加入後會儲存檔案的<strong>完整內容</strong>。但假如只修改一小部分卻需要保留整個檔案，將會使 blob objects 的資料儲存空間的使用非常沒有效率。因此 Git 可以執行 <code>Packfiles</code> 動作，將許多的離散資料<strong>打包</strong>成依照差異組成的單一 Packfile 以節省空間消耗。</p>
<p>Packfiles 動作通常在檔案數量多到一定程度(約 7000 objects)時會自動執行，而我們也可透過 <code>git gc</code> 指令手動執行 Packfiles。</p>
<blockquote>
<p>更詳細說明可參閱 <a href="https://git-scm.com/book/zh-tw/v2/Git-Internals-Packfiles">Pro Git - Packfiles</a> 的章節。</p>
</blockquote>
<h3 id="程式模組管理---submodule-與-subtree">程式模組管理 - Submodule 與 Subtree</h3>
<p>在開發程式有時會需要引入其他外來的程式庫，或是將自己在撰寫的程式庫釋放出去。但當對方或自己修改程式時就需要重新下載或是釋放一次，因此當其他使用了你的程式庫做了修改後，要修補時會非常不方便。這時我們可以使用 <a href="https://git-scm.com/docs/git-submodule">submodule</a> 或 <a href="https://www.atlassian.com/blog/git/alternatives-to-git-submodule-git-subtree">subtree</a> 的功能來將內部的資料夾作為一個獨立的 Git Repository 個體來管理做 branch, commit, push, pull 等功能。雖然 submodule 與 subtree 都是來做模組管理功能，但實現方式不一樣。</p>
<p>submodule 會在資料夾的 <code>.gitmodule</code> 文件中加入該模組的名稱，位置，對應的 Git Repository 等資訊。當使用 clone 功能把該 Git Repository 抓下來後再更新管理的 module。而 subtree 則是直接將該 Git Repository 的內容加入到現在的 Git 歷史中，當作原始碼的一部分管理。往後只要將該 Git Repository 抓下來不需要在更新管理的 module。兩種方式各有各的好處，可依照各自的需求決定使用的方式。</p>
<h2 id="reference">Reference</h2>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Git">Git</a></li>
<li><a href="https://git-scm.com/book/en/v2">Git-Book</a></li>
<li><a href="https://www.ithome.com.tw/news/95088">Git十歲了！Git之父Linus Torvalds說古，大談Git開發秘辛</a></li>
<li><a href="https://backlog.com/git-tutorial/tw/">連猴子都能懂的Git入門指南</a></li>
<li><a href="https://learngitbranching.js.org/">Learning Git Branch</a></li>
<li><a href="https://www.jstage.jst.go.jp/article/isciesci/61/10/61_394/_pdf">Git を用いたバージョン管理のすすめ</a></li>
</ul>
              
            </div>
          </div>
          <div id="post-footer" class="post-footer main-content-wrap">
            
              
                
                
                  <div class="post-footer-tags">
                    <span class="text-color-light text-small">TAGGED IN</span><br/>
                    
  <a class="tag tag--primary tag--small" href="/tags/git/">Git</a>

                  </div>
                
              
            
            <div class="post-actions-wrap">
  
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="/2019/04/comic_qed_cmb/" data-tooltip="非大眾化的傑出推理漫畫 - Q.E.D. 與 C.M.B.">
              
                  <i class="fa fa-angle-left"></i>
                  <span class="hide-xs hide-sm text-small icon-ml">NEXT</span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="/2018/10/dataset-iris/" data-tooltip="機器學習資料集 - Iris dataset">
              
                  <span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
                  <i class="fa fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=/2018/11/git-learning-tips/">
              <i class="fa fa-facebook-official"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=/2018/11/git-learning-tips/">
              <i class="fa fa-twitter"></i>
            </a>
          </li>
        
      
      
      <li class="post-action">
        
          <a class="post-action-btn btn btn--default" href="#">
        
          <i class="fa fa-list"></i>
        </a>
      </li>
    </ul>
  
</div>

            
              
            
          </div>
        </article>
        <footer id="footer" class="main-content-wrap">
  <span class="copyrights">
    &copy; 2020 Cheng-Shiang Li. All Rights Reserved
  </span>
</footer>

      </div>
      <div id="bottom-bar" class="post-bottom-bar" data-behavior="5">
        <div class="post-actions-wrap">
  
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="/2019/04/comic_qed_cmb/" data-tooltip="非大眾化的傑出推理漫畫 - Q.E.D. 與 C.M.B.">
              
                  <i class="fa fa-angle-left"></i>
                  <span class="hide-xs hide-sm text-small icon-ml">NEXT</span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="/2018/10/dataset-iris/" data-tooltip="機器學習資料集 - Iris dataset">
              
                  <span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
                  <i class="fa fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=/2018/11/git-learning-tips/">
              <i class="fa fa-facebook-official"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=/2018/11/git-learning-tips/">
              <i class="fa fa-twitter"></i>
            </a>
          </li>
        
      
      
      <li class="post-action">
        
          <a class="post-action-btn btn btn--default" href="#">
        
          <i class="fa fa-list"></i>
        </a>
      </li>
    </ul>
  
</div>

      </div>
      <div id="share-options-bar" class="share-options-bar" data-behavior="5">
  <i id="btn-close-shareoptions" class="fa fa-close"></i>
  <ul class="share-options">
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://www.facebook.com/sharer/sharer.php?u=%2F2018%2F11%2Fgit-learning-tips%2F">
          <i class="fa fa-facebook-official"></i><span>Share on Facebook</span>
        </a>
      </li>
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://twitter.com/intent/tweet?text=%2F2018%2F11%2Fgit-learning-tips%2F">
          <i class="fa fa-twitter"></i><span>Share on Twitter</span>
        </a>
      </li>
    
  </ul>
</div>
<div id="share-options-mask" class="share-options-mask"></div>
    </div>
    
    <div id="about">
  <div id="about-card">
    <div id="about-btn-close">
      <i class="fa fa-remove"></i>
    </div>
    
      <img id="about-card-picture" src="/images/about/me.jpg" alt="Author&#39;s picture" />
    
    <h4 id="about-card-name">Cheng-Shiang Li</h4>
    
      <div id="about-card-bio">Senior software developer. Mastering Android/iOS application development and machine learning algorithm.</div>
    
    
      <div id="about-card-job">
        <i class="fa fa-briefcase"></i>
        <br/>
        Software Enginner
      </div>
    
    
      <div id="about-card-location">
        <i class="fa fa-map-marker"></i>
        <br/>
        Taiwan
      </div>
    
  </div>
</div>

    

    
  
    
      <div id="cover" style="background-image:url('/images/bg/nasa-space.jpg');"></div>
    
  


    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js" integrity="sha256-/BfiIkHlHoVihZdc6TFuj7MmJ0TWcWsMXkeDFwhi0zw=" crossorigin="anonymous"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.7/js/jquery.fancybox.min.js" integrity="sha256-GEAnjcTqVP+vBp3SSc8bEDQqvWAZMiHyUSIorrWwH50=" crossorigin="anonymous"></script>


<script src="/js/script-pcw6v3xilnxydl1vddzazdverrnn9ctynvnxgwho987mfyqkuylcb1nlt.min.js"></script>


<script lang="javascript">
window.onload = updateMinWidth;
window.onresize = updateMinWidth;
document.getElementById("sidebar").addEventListener("transitionend", updateMinWidth);
function updateMinWidth() {
  var sidebar = document.getElementById("sidebar");
  var main = document.getElementById("main");
  main.style.minWidth = "";
  var w1 = getComputedStyle(main).getPropertyValue("min-width");
  var w2 = getComputedStyle(sidebar).getPropertyValue("width");
  var w3 = getComputedStyle(sidebar).getPropertyValue("left");
  main.style.minWidth = `calc(${w1} - ${w2} - ${w3})`;
}
</script>

<script>
$(document).ready(function() {
  hljs.configure({ classPrefix: '', useBR: false });
  $('pre.code-highlight > code, pre > code').each(function(i, block) {
    if (!$(this).hasClass('codeblock')) {
      $(this).addClass('codeblock');
    }
    hljs.highlightBlock(block);
  });
});
</script>


  
    
  



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css" integrity="sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/+DiW/UqRcLbRjq" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js" integrity="sha384-y23I5Q6l+B6vatafAwxRu/0oK/79VlbSz7Q9aiSZUvyWYIYsd+qj+o24G5ZU2zJz" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js" integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script>




    
  </body>
</html>

